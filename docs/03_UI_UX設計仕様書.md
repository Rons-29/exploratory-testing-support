# AIテストパートナー UI/UX設計仕様書

**作成日**: 2025年10月2日  
**バージョン**: v1.0

## 1. デザイン原則

### 1.1 基本思想

- **非侵襲性**: テストの邪魔にならない控えめなUI
- **直感性**: 迷いなく操作できる分かりやすいインターフェース
- **効率性**: 最小限の操作で最大限の価値を提供

### 1.2 デザインコンセプト

- **「控えめな執事」**: 必要な時にだけ現れる支援ツール
- **「一つの操作に一つの意味」**: 操作の意図が明確
- **「状態の可視化」**: 現在の状況が一目で分かる

## 2. 主要UI要素

### 2.1 拡張機能アイコン

#### 2.1.1 基本仕様

- **位置**: ブラウザのツールバー
- **サイズ**: 16x16px（標準的な拡張機能アイコンサイズ）
- **形状**: 円形または角丸四角形

#### 2.1.2 状態表示

- **通常時**: グレー系の色（#6B7280）
- **テスト中**: 赤系の色（#EF4444）+ 「REC」バッジ表示
- **エラー時**: オレンジ系の色（#F59E0B）

#### 2.1.3 インタラクション

- **左クリック**: ポップアップメニューを開く
- **右クリック**: コンテキストメニュー（設定等）
- **ホバー**: ツールチップ表示

### 2.2 ポップアップメニュー

#### 2.2.1 基本仕様

- **サイズ**: 300x200px（最小）
- **位置**: アイコンの下に表示
- **背景**: 白（#FFFFFF）
- **影**: ドロップシャドウ（0 4px 6px rgba(0, 0, 0, 0.1)）

#### 2.2.2 テスト開始前の表示

```
┌─────────────────────────┐
│  🎯 AIテストパートナー    │
├─────────────────────────┤
│                         │
│    [テストを開始]        │
│                         │
│  ⚙️ 設定  📊 履歴        │
└─────────────────────────┘
```

#### 2.2.3 テスト中の表示

```
┌─────────────────────────┐
│  🔴 テスト実行中         │
├─────────────────────────┤
│                         │
│  🟥 [テストを終了]       │
│  📄 [ライブログを見る]   │
│  📸 [スクリーンショット] │
│                         │
│  ⏸️ [一時停止]          │
└─────────────────────────┘
```

### 2.3 フローティングボタン

#### 2.3.1 基本仕様

- **位置**: 画面右下（デフォルト）
- **サイズ**: 48x48px（メインボタン）
- **形状**: 円形
- **背景**: 半透明の黒（rgba(0, 0, 0, 0.7)）
- **影**: ドロップシャドウ

#### 2.3.2 ボタン構成

```
    [📸] スクリーンショット
[🚩] フラグ立て
    [📝] メモ追加
```

#### 2.3.3 インタラクション

- **ドラッグ&ドロップ**: 位置の自由変更
- **ダブルクリック**: 最小化モード切り替え
- **ホバー**: ツールチップ表示

#### 2.3.4 最小化モード

- **表示**: 画面端に小さなタブ（20x60px）
- **色**: 半透明の青（rgba(59, 130, 246, 0.7)）
- **クリック**: 通常モードに復帰

### 2.4 ログ確認画面

#### 2.4.1 基本レイアウト

```
┌─────────────────────────────────────────────────────────┐
│ 🎯 テストセッション詳細                    [×] 閉じる    │
├─────────────────────────────────────────────────────────┤
│ 📊 サマリー                                             │
│ ・セッション時間: 15分32秒                              │
│ ・記録イベント: 127件                                  │
│ ・フラグ: 3件                                          │
│ ・エラー: 2件                                          │
├─────────────────────────────────────────────────────────┤
│ 🔍 フィルター [全て] [エラーのみ] [フラグのみ] [操作のみ] │
├─────────────────────────────────────────────────────────┤
│ 📝 タイムライン                                         │
│ 14:30:15 🖱️  [ログインボタン] をクリック               │
│ 14:30:16 ⚠️  コンソールエラー: ReferenceError          │
│ 14:30:20 🚩  フラグ: 価格が0円と表示される             │
│ 14:30:21 📸  スクリーンショット撮影                    │
│ 14:30:25 🌐  ネットワークエラー: 500 Internal Server    │
│ ...                                                    │
├─────────────────────────────────────────────────────────┤
│ [📋 レポートをコピー] [📤 エクスポート] [🔗 共有]        │
└─────────────────────────────────────────────────────────┘
```

#### 2.4.2 タイムライン表示

- **時系列表示**: 古い順から新しい順
- **イベント種別**: アイコンで視覚的に区別
- **フラグ表示**: ハイライト表示（黄色背景）
- **エラー表示**: 赤色で強調表示

#### 2.4.3 フィルター機能

- **全て**: すべてのイベントを表示
- **エラーのみ**: コンソールエラーとネットワークエラーのみ
- **フラグのみ**: フラグを立てた箇所のみ
- **操作のみ**: ユーザー操作（クリック、入力等）のみ

## 3. 操作フロー

### 3.1 テスト開始フロー

1. 拡張機能アイコンをクリック
2. ポップアップメニューが表示される
3. 「テストを開始」ボタンをクリック
4. アイコンが赤色に変化し「REC」バッジが表示
5. フローティングボタンが表示される

### 3.2 テスト中の操作フロー

1. **バグ発見時**:
   - フローティングボタンの「🚩フラグ」をクリック
   - メモ入力ダイアログが表示される
   - メモを入力して「記録」をクリック
   - 自動的にスクリーンショットが撮影される

2. **挙動確認時**:
   - 拡張機能アイコンをクリック
   - 「ライブログを見る」をクリック
   - 新しいタブでログ確認画面が開く
   - テストは継続中のまま

3. **スクリーンショット撮影時**:
   - フローティングボタンの「📸」をクリック
   - または拡張機能ポップアップの「📸」をクリック

### 3.3 テスト終了フロー

1. 拡張機能アイコンをクリック
2. 「テストを終了」ボタンをクリック
3. アイコンが通常色に戻る
4. ログ確認画面が自動で開く
5. レポートの確認とエクスポート

## 4. レスポンシブデザイン

### 4.1 画面サイズ対応

- **最小解像度**: 1024x768px
- **推奨解像度**: 1920x1080px以上
- **高解像度**: 4K対応

### 4.2 フローティングボタンの位置調整

- **小画面**: 画面右下固定
- **大画面**: ユーザーが自由に配置可能
- **縦画面**: 画面右端中央

## 5. アクセシビリティ

### 5.1 キーボードショートカット

- **Ctrl+Shift+T**: テスト開始/終了
- **Ctrl+Shift+F**: フラグ立て
- **Ctrl+Shift+S**: スクリーンショット撮影
- **Ctrl+Shift+L**: ライブログ表示

### 5.2 視覚的配慮

- **コントラスト比**: WCAG AA準拠（4.5:1以上）
- **フォントサイズ**: 12px以上
- **色覚異常対応**: 色だけでなくアイコンでも区別

### 5.3 音声フィードバック

- **操作音**: フラグ立て時、スクリーンショット撮影時
- **エラー音**: エラー発生時
- **音量調整**: ユーザー設定で無効化可能

## 6. アニメーション

### 6.1 マイクロインタラクション

- **ボタンホバー**: 0.2秒のスケール変化
- **クリック**: 0.1秒のプレス効果
- **状態変化**: 0.3秒のフェードイン/アウト

### 6.2 ローディング表示

- **データ読み込み**: スピナー表示
- **処理中**: プログレスバー表示
- **完了**: チェックマーク表示

## 7. エラーハンドリング

### 7.1 エラー表示

- **トースト通知**: 画面右上に一時的に表示
- **モーダルダイアログ**: 重要なエラーはダイアログで表示
- **インライン表示**: フォーム内のエラーは該当箇所に表示

### 7.2 エラーメッセージ

- **分かりやすい表現**: 技術用語を避けた平易な日本語
- **解決方法の提示**: エラーの原因と対処法を併記
- **ヘルプリンク**: 詳細な解決方法へのリンク

## 8. カスタマイズ機能

### 8.1 テーマ設定

- **ライトテーマ**: 白を基調とした明るいテーマ
- **ダークテーマ**: 黒を基調とした暗いテーマ
- **自動切り替え**: システム設定に合わせて自動切り替え

### 8.2 表示設定

- **フローティングボタンの表示/非表示**
- **ツールチップの表示/非表示**
- **アニメーションの有効/無効**

### 8.3 通知設定

- **エラー通知の有効/無効**
- **音声通知の有効/無効**
- **通知の表示時間**
